<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0"/>
    <title>面向对象版本的饼状图</title>
    <style>
        body {
            padding: 0;
            margin: 0;
            background-color: #f0f0f0;
            overflow: hidden;
        }
    </style>
    <script src="bower_components/konva/konva.min.js"></script>
    <script src="js/PieChart.js"></script>
</head>
<body>
<div id="container"></div>
<script>
    //创建一个舞台
    var stage = new Konva.Stage({
        container: 'container',
        width: window.innerWidth,
        height: window.innerHeight
    });
    // 创建一个层
    var layer = new Konva.Layer();
    //将层添加到舞台中
    stage.add(layer);
    var cenX = stage.width()/2;
    var cenY = stage.height()/2;
    //初始化数据
    var data = [
        { name: "前端", value: .25, color: '#e0e'  },
        { name: "php",  value: .2,  color: 'orange'},
        { name: "UI",	value: .3,	color: 'blue'  },
        { name: "C++",	value: .05,	color: 'green' },
        { name: "游戏",	value: .1,	color: 'purple'},
        { name: "Java",	value: .1,	color: 'red'   }
    ];
    
    var p = new PieChart({
        x: cenX,
        y: cenY,
        r: 100,
        data: data
    });
    p.addToGroupOrLayer(layer);
    layer.draw();
    p.playAnimate();
</script>
</body>
</html>
